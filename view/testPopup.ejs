<section id="firstPopup" class="popupArea">
    <article class="popupBar">
        <p id="popupTitle" class="popupTitle popupBarTextCommon">영화 시간을 선택해주세요.</p>
        <i id="popupClose" class="popupBarTextCommon fa-solid fa-x"></i>
    </article>
    <section class="popupContent">
        <!-- ~여기에 작성~ -->

        <!-- 시간선택팝업 -->
        <div class="timePopupAll">
            <div class="posterBasicInformation">

                <div class="posterImg"></div>
                <ul class="allMvTime" id="allMvTime">
                    <!-- 1 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                    <!-- 2 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                    <!-- 3 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                    <!-- 4 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                    <!-- 5 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                    <!-- 6 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                    <!-- 7 -->
                    <li class="mvTimeList">
                        <p class="theather">A관</p>
                        <p class="startAndEndTime">09시00분<br>~12시00분</p>
                    </li>
                </ul>
            </div>
            <div class="posterInformation">
                <p id="mvName" class="mvName">영화명</p>
                <p id="mvTime" class="mvTime">시간</p>
            </div>
            <button id="timeSelectionCompleteBtn" class="timeSelectionBtn">선택 완료</button>
    </section>
</section>

<%- include("testHeadcountPopup") %>

<script>
    document.getElementById("selectPeopleBtn").addEventListener("click", () => {
        window.location.href = "/select_seat";
    });
</script>

<script>
    const mvTimeList = document.querySelectorAll(".mvTimeList");
    const timeSelectionBtn = document.getElementById("timeSelectionCompleteBtn");
    mvTimeList.forEach((item) => {
        item.addEventListener("click", (event) => {
            mvTimeList.forEach((listItem) => {
                listItem.classList.remove("activeMvTime");
            });
            item.classList.add("activeMvTime");
            timeSelectionBtn.style.display = "block";
        });
    });
    timeSelectionBtn.addEventListener("click", () => {
        //window.location.href = "/select_seat";
        // popup function test
        document.getElementById("firstPopup").style = "display: none";
        document.getElementById("secondPopup").style = "display: block";
    });

    // popup function test
    const popupTitle = document.getElementById( "popupTitle" );
    const popupClose = document.getElementById("popupClose");
    

    popupClose.addEventListener("click", ()=>{
        console.log("X");
        document.querySelectorAll(".popupArea").display = "none";
    });

</script>

<style>
    /* 시간선택팝업 */
    .posterBasicInformation {
        width: 100%;
        display: flex;
        padding-top: 5.5rem;
        position: relative;
        justify-content: center;
    }

    .posterImg {
        width: 25rem;
        height: 35rem;
        background-image: url("images/베테랑.png");
        background-size: cover;
        /*border: 1px solid blue;*/
    }

    .posterInformation {
        width: 25rem;
        height: 5rem;
        margin-left: 6.5rem;
        margin-top: .5rem;
        text-align: center;
        line-height: 5rem;
    }

    .mvName {
        height: 100%;
        width: 60%;
        float: left;
        color: #90979D;
        font-size: 1.6rem;
    }

    .mvTime {
        height: 100%;
        width: 35%;
        float: right;
        color: #90979D;
        font-size: 1.6rem;
    }

    .allMvTime {
        width: 39.2rem;
        height: 30rem;
        flex-wrap: wrap;
        margin-left: 4rem;
        margin-right: -1.3rem;
        margin-top: 3rem;
        gap: 2rem;
    }

    .mvTimeList {
        display: inline-block;
        width: 12rem;
        height: 7rem;
        list-style: none;
        border: .06rem solid rgba(255, 255, 255, 0.479);
        text-align: center;
        color: white;
        border-radius: 5px;
        padding: 5px;
        margin: 1rem 0.78rem 0 0;
        cursor: pointer;
        background: transparent;
    }

    .mvTimeList:hover {
        background-color: #1F1F1F;
        border-color: #FFDD00;
    }

    .activeMvTime {
        background: #DE1E2D;
    }

    .activeMvTime:hover {
        background: #DE1E2D;
    }

    .theather {
        font-size: 1.4rem;
        margin-top: 2px;
    }

    .startAndEndTime {
        font-size: 1.3rem;
        line-height: 2rem;
    }

    /* 확인 버튼 스타일 */
    
    .popupContent{
        position: relative;
    }
    .timeSelectionBtn {
        position: absolute;
        right: 5%;
        bottom: 5%;
        height: 4rem;
        width: 11rem;
        line-height: 4rem;
        font-size: 1.6rem;
        background-color: #DE1E2D;
        color: #ffffff;
        border: none;
        border-radius: 0.5rem;
        font-size: 1.6rem;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s, box-shadow 0.2s;
        display: none;
    }

    .timeSelectionBtn:hover {
        background-color: #b41c2b;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .timeSelectionBtn:active {
        background-color: #b41c2b;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .secondPopup {
        display: none;
    }
</style>